ReporteSurtido/
â”‚
â”œâ”€â”€ docs/                                      # ğŸ“„ DOCUMENTACIÃ“N
â”‚   â”œâ”€â”€ estructura.txt                         # ExplicaciÃ³n de capas y flujo
â”‚   â”œâ”€â”€ decisiones_ui.txt                      # Lineamientos visuales (Plotly)
â”‚   â”œâ”€â”€ convenciones_codigo.txt                # Naming, responsabilidades
â”‚   â””â”€â”€ pendientes.txt                         # Backlog tÃ©cnico
â”‚
â”œâ”€â”€ domain/                                    # ğŸ§  DOMINIO PURO
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ devoluciones.py                        # Entidad DevoluciÃ³n
â”‚   â”œâ”€â”€ personal.py                            # Entidad Persona
â”‚   â”œâ”€â”€ productos.py                           # Entidad Producto
â”‚   â””â”€â”€ vendedores.py                          # Entidad Vendedor
â”‚
â”‚   # âŒ Mongo
â”‚   # âŒ pandas
â”‚   # âŒ Tkinter
â”‚
â”œâ”€â”€ db/                                        # ğŸ”Œ ACCESO A DATOS
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py                                # Interfaces BaseDB
â”‚   â”œâ”€â”€ factory.py                             # Factory repos
â”‚   â”‚
â”‚   â””â”€â”€ mongo/                                 # ImplementaciÃ³n MongoDB
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ client.py                          # ConexiÃ³n MongoClient
â”‚       â”œâ”€â”€ collections.py                     # Nombres de colecciones
â”‚       â”œâ”€â”€ indexes.py                         # Ãndices
â”‚       â”‚
â”‚       â”œâ”€â”€ repos/                             # CRUD por entidad
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ devoluciones_repo.py
â”‚       â”‚   â”œâ”€â”€ personal_repo.py
â”‚       â”‚   â”œâ”€â”€ vendedores_repo.py
â”‚       â”‚   â””â”€â”€ productos_repo.py
â”‚       â”‚
â”‚       â””â”€â”€ reportes/                          # ğŸ§® Mongo PURO (aggregations)
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ filtros.py                     # $match dinÃ¡mico
â”‚           â”œâ”€â”€ pipelines.py                   # $unwind / $group
â”‚           â”œâ”€â”€ kpis.py                        # KPIs Mongo
â”‚           â””â”€â”€ queries.py                     # aggregate() â†’ DataFrame
â”‚
â”œâ”€â”€ services/                                  # âš™ï¸ CASOS DE USO
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ personal_service.py
â”‚   â”œâ”€â”€ productos_service.py
â”‚   â”œâ”€â”€ vendedores_service.py
â”‚   â”‚
â”‚   â”œâ”€â”€ reportes/                              # ğŸ“Š LÃ“GICA DE REPORTES
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ service.py                         # Fachada principal
â”‚   â”‚   â”œâ”€â”€ queries.py                         # NormalizaciÃ³n base
â”‚   â”‚   â”œâ”€â”€ filtros.py                         # UI â†’ dominio
â”‚   â”‚   â”œâ”€â”€ periodo.py                         # DÃ­a / semana / mes
â”‚   â”‚   â”œâ”€â”€ aggregations.py                    # Agrupaciones pandas
â”‚   â”‚   â”œâ”€â”€ kpis.py                            # KPIs finales
â”‚   â”‚   â””â”€â”€ export.py                          # Excel / CSV / PDF
â”‚   â”‚
â”‚   â””â”€â”€ devoluciones/                          # ğŸ§¾ DEVOLUCIONES
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ facade.py                          # Fachada pÃºblica
â”‚       â”‚
â”‚       â”œâ”€â”€ commands/                          # Escritura
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ crear_devolucion.py
â”‚       â”‚   â”œâ”€â”€ actualizar_devolucion.py
â”‚       â”‚   â”œâ”€â”€ cambiar_estatus.py
â”‚       â”‚   â””â”€â”€ eliminar_devolucion.py
â”‚       â”‚
â”‚       â”œâ”€â”€ queries/                           # Lectura
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ listar_historial.py
â”‚       â”‚   â”œâ”€â”€ obtener_articulos.py
â”‚       â”‚   â””â”€â”€ obtener_completa.py
â”‚       â”‚
â”‚       â””â”€â”€ mappers/                           # Adaptadores
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ articulo_mapper.py
â”‚           â””â”€â”€ devolucion_mapper.py
â”‚
â”œâ”€â”€ ui/                                        # ğŸ–¥ï¸ INTERFAZ (Tkinter)
â”‚   â”œâ”€â”€ __init__.py
â”‚
â”‚   â”œâ”€â”€ app/                                   # App principal
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main_window.py
â”‚   â”‚   â”œâ”€â”€ menu.py
â”‚   â”‚   â””â”€â”€ state.py
â”‚
â”‚   â”œâ”€â”€ common/                                # Componentes reutilizables
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ dialogs.py
â”‚   â”‚   â”œâ”€â”€ forms.py
â”‚   â”‚   â”œâ”€â”€ tables.py
â”‚   â”‚   â”œâ”€â”€ buttons.py
â”‚   â”‚   â””â”€â”€ validators.py
â”‚
â”‚   â”œâ”€â”€ devoluciones/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ registro/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ screen.py
â”‚   â”‚   â”‚   â”œâ”€â”€ form.py
â”‚   â”‚   â”‚   â”œâ”€â”€ table.py
â”‚   â”‚   â”‚   â””â”€â”€ events.py
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ historial/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ screen.py
â”‚   â”‚       â”œâ”€â”€ filters.py
â”‚   â”‚       â”œâ”€â”€ table.py
â”‚   â”‚       â”œâ”€â”€ events.py
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ edit/
â”‚   â”‚           â”œâ”€â”€ __init__.py
â”‚   â”‚           â”œâ”€â”€ dialog.py
â”‚   â”‚           â”œâ”€â”€ form.py
â”‚   â”‚           â”œâ”€â”€ table.py
â”‚   â”‚           â””â”€â”€ events.py
â”‚
â”‚   â”œâ”€â”€ personal/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ screen.py
â”‚   â”‚   â”œâ”€â”€ form.py
â”‚   â”‚   â”œâ”€â”€ table.py
â”‚   â”‚   â””â”€â”€ events.py
â”‚
â”‚   â””â”€â”€ reportes/                              # ğŸ“ˆ DASHBOARD
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ screen.py                          # Notebook + layout
â”‚       â”œâ”€â”€ controller.py                      # Threading / async
â”‚       â”œâ”€â”€ state.py                           # Estado UI
â”‚       â”‚
â”‚       â”œâ”€â”€ filters/
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ panel.py
â”‚       â”‚
â”‚       â”œâ”€â”€ views/                             # QUÃ‰ SE MUESTRA
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ general.py
â”‚       â”‚   â”œâ”€â”€ pasillos.py
â”‚       â”‚   â”œâ”€â”€ zonas.py
â”‚       â”‚   â”œâ”€â”€ personas.py
â”‚       â”‚   â””â”€â”€ detalle.py
â”‚       â”‚
â”‚       â””â”€â”€ renderers/                         # CÃ“MO SE DIBUJA
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ base.py                        # Contrato visual
                webview.py
â”‚           â”‚
â”‚           â”œâ”€â”€ plotly/                        # ğŸ¨ Plotly PRO
â”‚           â”‚   â”œâ”€â”€ __init__.py
â”‚           â”‚   â”œâ”€â”€ base_chart.py              # Tema + animaciones
â”‚           â”‚   â”œâ”€â”€ bar.py                     # Barras
â”‚           â”‚   â”œâ”€â”€ line.py                    # LÃ­neas
â”‚           â”‚   â”œâ”€â”€ pie.py                     # Pie / Donut
â”‚           â”‚   â”œâ”€â”€ kpi.py                     # KPI cards
â”‚           â”‚   â”œâ”€â”€ table.py                   # Tablas Plotly
â”‚           â”‚   â””â”€â”€ layout.py                  # Paletas / fuentes
â”‚           â”‚
â”‚           â””â”€â”€ tk_tables.py                   # Tablas Treeview
â”‚
â”œâ”€â”€ utils/                                     # ğŸ”§ UTILIDADES
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ constants.py
â”‚   â”œâ”€â”€ helpers.py
â”‚   â””â”€â”€ scrollframe.py
â”‚
â”œâ”€â”€ .env                                       # Variables entorno
â”œâ”€â”€ requirements.txt                           # Dependencias
â””â”€â”€ main.py                                    # Entry point
